# Financial Management & POS

This guide covers all aspects of financial management and point of sale (POS) operations in the Spa & Salon Management Software, including payment processing, discounts, promotions, and financial reporting.

## Payment Processing

### Processing Service Payments
1. After completing a service, navigate to the appointment details
2. Click "Process Payment" button
3. Verify service details and total amount
4. Select payment method:
   - Cash
   - Credit/Debit Card
   - Gift Card
   - Mobile Payment (Apple Pay, Google Pay)
   - Account Credit
   - Split Payment (multiple methods)
5. For card payments:
   - Swipe, insert, or tap card on connected reader
   - Or manually enter card details
   - Process transaction
6. For cash payments:
   - Enter amount tendered
   - System calculates change due
7. Complete the transaction
8. Choose receipt option:
   - Email receipt
   - Print receipt
   - Text receipt
   - No receipt

### Processing Product Sales
1. Navigate to POS > New Sale
2. Scan product barcode or search product database
3. Add products to cart
4. Adjust quantities if needed
5. Apply any discounts
6. Process payment using steps similar to service payments
7. Update inventory automatically
8. Issue receipt

### Handling Tips
Add gratuity to transactions:
1. During payment processing, select "Add Tip"
2. Enter tip amount:
   - Fixed amount
   - Percentage of service
   - Custom amount
3. Assign tip to specific staff member(s)
4. Include tip in payment total
5. Process payment

### Processing Refunds
Issue refunds for services or products:
1. Navigate to Transactions > Find Transaction
2. Search for the original transaction
3. Click "Process Refund"
4. Select full or partial refund
5. For partial refunds, enter amount
6. Select refund reason from dropdown
7. Choose refund method:
   - Original payment method
   - Store credit
   - Gift card
8. Process refund
9. Issue refund receipt

## Discounts & Promotions

### Applying Manual Discounts
Add discounts during checkout:
1. In the payment screen, click "Apply Discount"
2. Select discount type:
   - Percentage off
   - Fixed amount off
   - Free item/service
3. Enter discount amount
4. Select discount reason
5. Add notes if required
6. Apply discount to transaction

### Using Promotional Codes
Apply pre-configured promotions:
1. In the payment screen, click "Apply Promo Code"
2. Enter or scan promotion code
3. System validates the code and eligibility
4. Applicable discount is automatically applied
5. Promotion usage is recorded

### Creating Promotional Offers
Set up new promotions:
1. Navigate to Marketing > Promotions
2. Click "Create Promotion"
3. Configure promotion details:
   - Promotion name
   - Discount type and amount
   - Valid date range
   - Usage limits (per customer, total)
   - Eligible services/products
   - Minimum purchase requirements
   - Promo code (auto-generated or custom)
4. Save the promotion

### Loyalty Program Integration
Apply loyalty rewards during checkout:
1. In the payment screen, verify client loyalty points
2. Click "Apply Loyalty Reward"
3. Select available reward
4. System applies the reward to the transaction
5. Points are automatically deducted
6. Transaction is marked as a loyalty redemption

## Financial Reporting

### Daily Sales Reports
View daily financial performance:
1. Navigate to Reports > Daily Sales
2. Select date
3. View summary metrics:
   - Total revenue
   - Breakdown by service/product
   - Breakdown by payment method
   - Tax collected
   - Discounts applied
   - Staff commissions
4. Export report as needed

### Revenue by Service Type
Analyze service performance:
1. Navigate to Reports > Service Revenue
2. Set date range
3. View revenue breakdown by:
   - Service category
   - Individual services
   - Staff member
4. Sort by highest/lowest revenue
5. Compare to previous periods
6. Export data for further analysis

### Revenue by Staff Member
Track individual performance:
1. Navigate to Reports > Staff Revenue
2. Set date range
3. View revenue generated by each staff member
4. Break down by:
   - Services performed
   - Products sold
   - Tips received
   - Commission earned
5. Sort and filter as needed

### Payment Method Analysis
Track how clients are paying:
1. Navigate to Reports > Payment Methods
2. Set date range
3. View breakdown of payment methods used
4. Analyze trends over time
5. Monitor processing fees by method

## Gift Card Management

### Selling Gift Cards
Process gift card sales:
1. Navigate to POS > Gift Cards > Sell Gift Card
2. Select gift card type:
   - Physical card (enter card number)
   - Digital card (enter recipient email)
3. Enter amount to load
4. Add purchaser information
5. Add personalized message (optional)
6. Process payment
7. For physical cards, activate the card
8. For digital cards, schedule delivery

### Checking Gift Card Balances
Verify available funds:
1. Navigate to POS > Gift Cards > Check Balance
2. Enter gift card number or scan barcode
3. System displays:
   - Current balance
   - Original amount
   - Expiration date (if applicable)
   - Transaction history

### Processing Gift Card Redemptions
Accept gift cards as payment:
1. During payment processing, select "Gift Card" as payment method
2. Enter gift card number or scan barcode
3. System verifies balance
4. Enter amount to redeem
5. Process transaction
6. System updates gift card balance
7. Receipt shows remaining gift card balance

## Financial Administration

### Setting Tax Rates
Configure tax settings:
1. Navigate to Settings > Financial > Taxes
2. Set default tax rates
3. Create tax categories if needed
4. Configure location-specific taxes
5. Set tax rules for different product/service types
6. Save tax configuration

### Configuring Payment Methods
Set up accepted payment types:
1. Navigate to Settings > Financial > Payment Methods
2. Enable/disable available payment methods
3. Configure payment processors
4. Set up merchant accounts
5. Configure receipt templates for each method

### End of Day Procedures
Close out daily finances:
1. Navigate to Financial > End of Day
2. Review daily transactions
3. Reconcile cash drawer
4. Process credit card batch
5. Generate closing reports
6. Address any discrepancies
7. Finalize daily close

### Accounting Software Integration
Export financial data:
1. Navigate to Financial > Accounting Export
2. Select date range
3. Choose export format:
   - QuickBooks
   - Xero
   - CSV/Excel
   - Custom format
4. Select data to include
5. Generate export file
6. Download or send directly to accounting system

## Best Practices for Financial Management

- Reconcile the cash drawer daily
- Regularly review transaction history for errors or suspicious activity
- Train staff on proper discount and refund procedures
- Keep gift card system secure with proper validation
- Regularly back up financial data
- Set clear policies for refunds and cancellation fees
- Review financial reports weekly to identify trends
- Ensure tax settings are up to date with current regulations
- Maintain proper documentation for all financial transactions
- Regularly audit commission calculations for accuracy

## Implementation Roadmap

Based on a comprehensive audit of the codebase, the following features from this document are currently implemented or missing:

### Implemented Features

- **Payment Processing**
  - Basic payment processing for services and products
  - Multiple payment methods support (cash, card, etc.)
  - Transaction recording and receipt generation
  - Tax calculation and application

- **Promotions & Discounts**
  - Promotion model with percentage and fixed amount discounts
  - Promotional code validation and application
  - Discount service for applying discounts to orders

- **Gift Cards**
  - Gift card creation and management
  - Balance tracking and redemption
  - Digital gift card email delivery

- **Financial Reporting**
  - Revenue summary reports
  - Revenue by period (daily, weekly, monthly)
  - Revenue by service category
  - Payment method analysis
  - Tax reporting

- **Tax Management**
  - Tax rate configuration
  - Tax calculation service
  - Support for different tax types and rates

- **Data Export**
  - Basic order/transaction exports to Excel and PDF

### Features Requiring Implementation

- **Payment Processing**
  - Tip management system (adding, distributing to staff)
  - Split payment functionality
  - More robust refund processing workflow

- **POS Enhancements**
  - Barcode scanning integration
  - Customer-facing display options

- **Loyalty Program Integration**
  - Points accrual system
  - Redemption workflow
  - Integration with payment processing

- **Financial Administration**
  - End-of-day procedures and reconciliation
  - Cash drawer management
  - Accounting software integration (QuickBooks, Xero, etc.)
  - Batch processing for credit card transactions

- **Reporting Enhancements**
  - Staff commission reports
  - Customizable report parameters
  - Scheduled report generation
  - Dashboard visualizations

### Priority Implementation Items

1. **End-of-day reconciliation workflow**: Critical for financial accuracy and accounting
2. **Tip management system**: Important for service-based businesses
3. **Loyalty program integration**: Key for customer retention
4. **Accounting software integration**: Essential for business operations
5. **Enhanced staff commission reporting**: Important for staff management
